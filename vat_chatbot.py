# -*- coding: utf-8 -*-
"""
부가가치세 차량 공제 챗봇 (Streamlit)
---------------------------------
1. 업종 입력 → 특정 업종(택시, 자동차학원, 자동차임대업)인 경우 바로 공제 가능
2. 그 외 업종이면 차량 이름 입력 → 차량 종류 판별 → 공제 가능/불가 안내
"""

import streamlit as st

# ---------------------------------------------
# 차량 분류 정보 (간단 버전)
# ---------------------------------------------
TAX_FREE_TYPES = ["경차", "화물", "8인승 초과", "9인승", "승합"]
# 차량 이름에 위 단어가 포함되어 있으면 개별소비세 비과세로 간주

# ---------------------------------------------
# 공제 가능한 업종
# ---------------------------------------------
DEDUCTIBLE_INDUSTRIES = ["택시", "자동차학원", "자동차임대업"]

# ---------------------------------------------
# Streamlit UI
# ---------------------------------------------
st.set_page_config(page_title="부가가치세 차량공제 챗봇", page_icon="🤖")
st.title("🚗 부가가치세 차량공제 챗봇")
st.write("안녕하세요! 차량 관련 부가가치세 매입세액 공제 여부를 도와드릴게요.")

# 1️⃣ 업종 입력
industry = st.text_input("먼저, 업종을 입력해주세요 (예: 음식점, 택시, 자동차학원 등):").strip()

if industry:
    # 2️⃣ 특정 업종 공제 가능
    if any(word in industry for word in DEDUCTIBLE_INDUSTRIES):
        st.success("✅ 차량 관련 비용 부가가치세 매입공제 **공제가능합니다.**")
        st.stop()
    else:
        # 3️⃣ 차량명 입력
        vehicle = st.text_input("구입(또는 사용)하려는 차량명을 입력해주세요:").strip()

        if vehicle:
            # 차량 종류 판별
            if any(keyword in vehicle for keyword in TAX_FREE_TYPES):
                st.success("✅ 차량 관련 비용 부가가치세 매입공제 **공제가능합니다.**")
            else:
                st.error("❌ 개별소비세 과세 대상 차량이므로 부가가치세 매입세액 **공제 불가능합니다.**")
